<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Sidebar & Logo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { margin: 0; padding: 0; }
        .navbar { height: 56px; z-index: 1030; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .main-container { display: flex; min-height: 100vh; padding-top: 56px; }
        .sidebar { position: fixed; top: 56px; left: 0; width: 260px; height: calc(100vh - 56px); background-color: #2c3e50; overflow-y: auto; }
        .content-wrapper { flex: 1; margin-left: 260px; padding: 20px; background-color: #f8f9fa; }
        
        /* Logo Styles */
        .logo-circle { width: 40px; height: 40px; background: linear-gradient(135deg, #3498db, #2980b9); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 2px 8px rgba(0,0,0,0.2); transition: transform 0.3s ease; }
        .logo-circle:hover { transform: scale(1.1); }
        .logo-circle i { color: white; font-size: 1.2rem; }
        .brand-name { font-size: 1.3rem; font-weight: bold; color: white; letter-spacing: 1px; }
        .brand-subtitle { font-size: 0.65rem; opacity: 0.9; color: #ecf0f1; font-weight: 300; }
        
        /* Sidebar Styles */
        .sidebar-section-header { color: #ecf0f1 !important; padding: 12px 15px; text-decoration: none; border-radius: 8px; margin-bottom: 5px; transition: all 0.3s ease; background: linear-gradient(135deg, rgba(52, 73, 94, 0.3), rgba(44, 62, 80, 0.3)); border: 1px solid rgba(255, 255, 255, 0.1); }
        .sidebar-section-header:hover { background: linear-gradient(135deg, rgba(52, 152, 219, 0.2), rgba(41, 128, 185, 0.2)); color: #3498db !important; transform: translateX(3px); }
        .sidebar-icon-container { width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; background: rgba(52, 152, 219, 0.2); border-radius: 6px; transition: all 0.3s ease; }
        .sidebar-section-header:hover .sidebar-icon-container { background: rgba(52, 152, 219, 0.4); transform: scale(1.1); }
        .sidebar-text { font-weight: 500; font-size: 0.9rem; }
        .sidebar-arrow { font-size: 0.8rem; transition: transform 0.3s ease; }
        .sidebar-submenu { background: rgba(0, 0, 0, 0.1); border-radius: 8px; padding: 8px 0; margin: 5px 15px; border-left: 3px solid #3498db; }
        .sidebar-sublink { color: #bdc3c7 !important; padding: 8px 15px; text-decoration: none; border-radius: 6px; margin: 2px 8px; transition: all 0.3s ease; font-size: 0.85rem; display: flex; align-items: center; }
        .sidebar-sublink:hover { background: rgba(52, 152, 219, 0.15); color: #3498db !important; transform: translateX(5px); }
        
        /* Collapse Animation */
        .collapse { transition: height 0.35s ease; overflow: hidden; }
        .collapse:not(.show) { height: 0; }
        .collapse.show { height: auto; }
    </style>
</head>
<body>
    <!-- Header with HMS Logo -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
        <div class="container-fluid">
            <!-- HMS Logo and Brand -->
            <a class="navbar-brand d-flex align-items-center" href="#">
                <div class="logo-container me-3">
                    <div class="logo-circle">
                        <i class="fas fa-hospital-alt"></i>
                    </div>
                </div>
                <div class="brand-text">
                    <span class="brand-name">HMS</span>
                    <br>
                    <small class="brand-subtitle">Hospital Management System</small>
                </div>
            </a>
            
            <!-- User Dropdown -->
            <ul class="navbar-nav ms-auto">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                        <i class="fas fa-user-circle me-1"></i>
                        <span>Admin</span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#"><i class="fas fa-user me-2"></i>Profile</a></li>
                        <li><a class="dropdown-item" href="#"><i class="fas fa-cog me-2"></i>Settings</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="#"><i class="fas fa-sign-out-alt me-2"></i>Logout</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </nav>

    <div class="main-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="px-3 pt-3">
                <ul class="nav flex-column">
                    <!-- Main Dashboard -->
                    <li class="nav-item mb-2">
                        <a class="nav-link" href="#">
                            <i class="fas fa-tachometer-alt me-2"></i> Main Dashboard
                        </a>
                    </li>
                    
                    <!-- Patient Management -->
                    <li class="nav-item mb-2">
                        <a class="nav-link sidebar-section-header" data-bs-toggle="collapse" href="#patientSubmenu" role="button" 
                           aria-expanded="false" aria-controls="patientSubmenu"
                           onclick="console.log('Patient header clicked!'); 
                                    var submenu = document.getElementById('patientSubmenu'); 
                                    var arrow = this.querySelector('.sidebar-arrow');
                                    if (submenu) { 
                                        if (submenu.style.display === 'block' || submenu.classList.contains('show')) { 
                                            submenu.style.display = 'none'; 
                                            submenu.classList.remove('show'); 
                                            if (arrow) arrow.style.transform = 'rotate(0deg)';
                                            console.log('✅ COLLAPSED'); 
                                        } else { 
                                            submenu.style.display = 'block'; 
                                            submenu.classList.add('show'); 
                                            if (arrow) arrow.style.transform = 'rotate(180deg)';
                                            console.log('✅ EXPANDED'); 
                                        } 
                                    } 
                                    return false;">
                            <div class="d-flex align-items-center">
                                <div class="sidebar-icon-container me-2">
                                    <i class="fas fa-user-injured"></i>
                                </div>
                                <span class="sidebar-text">Patient Management</span>
                                <i class="fas fa-chevron-down sidebar-arrow ms-auto"></i>
                            </div>
                        </a>
                        <div class="collapse" id="patientSubmenu">
                            <ul class="nav flex-column sidebar-submenu">
                                <li class="nav-item">
                                    <a class="nav-link sidebar-sublink" href="#">
                                        <i class="fas fa-list me-2"></i> View All Patients
                                        <small class="text-muted ms-auto">Manage</small>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link sidebar-sublink" href="#">
                                        <i class="fas fa-user-plus me-2"></i> Add New Patient
                                        <small class="text-muted ms-auto">Register</small>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link sidebar-sublink" href="#">
                                        <i class="fas fa-search me-2"></i> Search Patients
                                        <small class="text-muted ms-auto">Find</small>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </li>

                    <!-- Doctor Management -->
                    <li class="nav-item mb-2">
                        <a class="nav-link sidebar-section-header" data-bs-toggle="collapse" href="#doctorSubmenu" role="button" 
                           aria-expanded="false" aria-controls="doctorSubmenu"
                           onclick="console.log('Doctor header clicked!'); 
                                    var submenu = document.getElementById('doctorSubmenu'); 
                                    var arrow = this.querySelector('.sidebar-arrow');
                                    if (submenu) { 
                                        if (submenu.style.display === 'block' || submenu.classList.contains('show')) { 
                                            submenu.style.display = 'none'; 
                                            submenu.classList.remove('show'); 
                                            if (arrow) arrow.style.transform = 'rotate(0deg)';
                                            console.log('✅ DOCTOR COLLAPSED'); 
                                        } else { 
                                            submenu.style.display = 'block'; 
                                            submenu.classList.add('show'); 
                                            if (arrow) arrow.style.transform = 'rotate(180deg)';
                                            console.log('✅ DOCTOR EXPANDED'); 
                                        } 
                                    } 
                                    return false;">
                            <div class="d-flex align-items-center">
                                <div class="sidebar-icon-container me-2">
                                    <i class="fas fa-user-md"></i>
                                </div>
                                <span class="sidebar-text">Doctor Management</span>
                                <i class="fas fa-chevron-down sidebar-arrow ms-auto"></i>
                            </div>
                        </a>
                        <div class="collapse" id="doctorSubmenu">
                            <ul class="nav flex-column sidebar-submenu">
                                <li class="nav-item">
                                    <a class="nav-link sidebar-sublink" href="#">
                                        <i class="fas fa-list me-2"></i> View All Doctors
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link sidebar-sublink" href="#">
                                        <i class="fas fa-user-plus me-2"></i> Add New Doctor
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </li>

                    <!-- Appointments -->
                    <li class="nav-item mb-2">
                        <a class="nav-link sidebar-section-header" data-bs-toggle="collapse" href="#appointmentSubmenu" role="button" 
                           aria-expanded="false" aria-controls="appointmentSubmenu"
                           onclick="console.log('Appointment header clicked!'); 
                                    var submenu = document.getElementById('appointmentSubmenu'); 
                                    var arrow = this.querySelector('.sidebar-arrow');
                                    if (submenu) { 
                                        if (submenu.style.display === 'block' || submenu.classList.contains('show')) { 
                                            submenu.style.display = 'none'; 
                                            submenu.classList.remove('show'); 
                                            if (arrow) arrow.style.transform = 'rotate(0deg)';
                                            console.log('✅ APPOINTMENT COLLAPSED'); 
                                        } else { 
                                            submenu.style.display = 'block'; 
                                            submenu.classList.add('show'); 
                                            if (arrow) arrow.style.transform = 'rotate(180deg)';
                                            console.log('✅ APPOINTMENT EXPANDED'); 
                                        } 
                                    } 
                                    return false;">
                            <div class="d-flex align-items-center">
                                <div class="sidebar-icon-container me-2">
                                    <i class="fas fa-calendar-check"></i>
                                </div>
                                <span class="sidebar-text">Appointments</span>
                                <i class="fas fa-chevron-down sidebar-arrow ms-auto"></i>
                            </div>
                        </a>
                        <div class="collapse" id="appointmentSubmenu">
                            <ul class="nav flex-column sidebar-submenu">
                                <li class="nav-item">
                                    <a class="nav-link sidebar-sublink" href="#">
                                        <i class="fas fa-list me-2"></i> View Appointments
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link sidebar-sublink" href="#">
                                        <i class="fas fa-plus me-2"></i> Schedule Appointment
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </li>

                    <!-- Laboratory -->
                    <li class="nav-item mb-2">
                        <a class="nav-link sidebar-section-header" data-bs-toggle="collapse" href="#labSubmenu" role="button" 
                           aria-expanded="false" aria-controls="labSubmenu"
                           onclick="console.log('Laboratory header clicked!'); 
                                    var submenu = document.getElementById('labSubmenu'); 
                                    var arrow = this.querySelector('.sidebar-arrow');
                                    if (submenu) { 
                                        if (submenu.style.display === 'block' || submenu.classList.contains('show')) { 
                                            submenu.style.display = 'none'; 
                                            submenu.classList.remove('show'); 
                                            if (arrow) arrow.style.transform = 'rotate(0deg)';
                                            console.log('✅ LABORATORY COLLAPSED'); 
                                        } else { 
                                            submenu.style.display = 'block'; 
                                            submenu.classList.add('show'); 
                                            if (arrow) arrow.style.transform = 'rotate(180deg)';
                                            console.log('✅ LABORATORY EXPANDED'); 
                                        } 
                                    } 
                                    return false;">
                            <div class="d-flex align-items-center">
                                <div class="sidebar-icon-container me-2">
                                    <i class="fas fa-flask"></i>
                                </div>
                                <span class="sidebar-text">Laboratory</span>
                                <i class="fas fa-chevron-down sidebar-arrow ms-auto"></i>
                            </div>
                        </a>
                        <div class="collapse" id="labSubmenu">
                            <ul class="nav flex-column sidebar-submenu">
                                <li class="nav-item">
                                    <a class="nav-link sidebar-sublink" href="#">
                                        <i class="fas fa-list-alt me-2"></i> Lab Orders
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link sidebar-sublink" href="#">
                                        <i class="fas fa-vial me-2"></i> Lab Results
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Main Content -->
        <div class="content-wrapper">
            <div class="card">
                <div class="card-body">
                    <h1>Test Page</h1>
                    <p>This page tests the HMS logo and sidebar collapse functionality.</p>
                    
                    <h3>Test Results:</h3>
                    <ul>
                        <li><strong>Logo:</strong> Should be visible in the navbar with a blue gradient circle and HMS text</li>
                        <li><strong>Sidebar:</strong> Patient and Doctor sections should expand/collapse when clicked</li>
                        <li><strong>Animations:</strong> Smooth hover effects and arrow rotations</li>
                    </ul>
                    
                    <div class="alert alert-info">
                        <strong>Debug Tools:</strong><br>
                        <button class="btn btn-sm btn-primary me-2" onclick="testPatientToggle()">Test Patient Toggle</button>
                        <button class="btn btn-sm btn-secondary me-2" onclick="debugSidebar()">Debug Sidebar</button>
                        <button class="btn btn-sm btn-success me-2" onclick="forceShowPatients()">Force Show Patients</button>
                        <button class="btn btn-sm btn-warning" onclick="location.reload()">Reload Page</button>
                    </div>
                    
                    <div class="alert alert-secondary">
                        <strong>Instructions:</strong>
                        <ol>
                            <li>Check if the HMS logo is visible in the top navbar</li>
                            <li>Click on "Patient Management" to expand/collapse the submenu</li>
                            <li>Use debug buttons above if sidebar doesn't work</li>
                            <li>Check browser console for debug messages</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Toggle sidebar section function
        function toggleSidebarSection(targetId, toggleElement) {
            console.log('Toggling sidebar section:', targetId);
            
            const target = document.getElementById(targetId);
            const arrow = toggleElement.querySelector('.sidebar-arrow');
            
            if (target) {
                if (target.classList.contains('show')) {
                    // Hide
                    target.classList.remove('show');
                    toggleElement.setAttribute('aria-expanded', 'false');
                    if (arrow) arrow.style.transform = 'rotate(0deg)';
                    console.log('Collapsed:', targetId);
                } else {
                    // Show
                    target.classList.add('show');
                    toggleElement.setAttribute('aria-expanded', 'true');
                    if (arrow) arrow.style.transform = 'rotate(180deg)';
                    console.log('Expanded:', targetId);
                }
            }
        }
        
        // Debug functions
        function testPatientToggle() {
            console.log('=== TESTING PATIENT TOGGLE ===');
            const patientHeader = document.querySelector('a[href="#patientSubmenu"]');
            console.log('Patient header found:', patientHeader);
            if (patientHeader) {
                toggleSidebarSection('patientSubmenu', patientHeader);
            } else {
                console.error('Patient header not found!');
            }
        }
        
        function debugSidebar() {
            console.log('=== SIDEBAR DEBUG ===');
            console.log('Patient submenu element:', document.getElementById('patientSubmenu'));
            console.log('Patient header element:', document.querySelector('a[href="#patientSubmenu"]'));
            console.log('All sidebar headers:', document.querySelectorAll('.sidebar-section-header'));
            console.log('All collapse elements:', document.querySelectorAll('.collapse'));
        }
        
        function forceShowPatients() {
            console.log('=== FORCE SHOWING PATIENTS ===');
            const submenu = document.getElementById('patientSubmenu');
            if (submenu) {
                submenu.classList.add('show');
                submenu.style.display = 'block';
                submenu.style.opacity = '1';
                submenu.style.maxHeight = '500px';
                console.log('Forced patient submenu to show');
            }
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Test page loaded');
            console.log('Bootstrap loaded:', typeof bootstrap !== 'undefined');
            
            // Auto-debug on load
            setTimeout(debugSidebar, 1000);
        });
    </script>
</body>
</html>